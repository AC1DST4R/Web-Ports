<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Web Port Game Launcher</title>

<meta name="apple-mobile-web-app-title" content="Web Port Game Launcher">
<meta name="apple-mobile-web-app-capable" content="yes">

<link rel="icon" sizes="16x16" href="Favicons/favicon-16x16.png">
<link rel="icon" sizes="32x32" href="Favicons/favicon-32x32.png">
<link rel="apple-touch-icon" sizes="180x180" href="Favicons/180x180.png">

<style>
body {
    margin: 0;
    font-family: system-ui, sans-serif;
    background: #0f0f12;
    color: white;
    overflow: hidden;
}

/* ===== HERO BANNER ===== */
#hero {
    position: relative;
    width: 100%;
    height: 260px;
    overflow: hidden;
    pointer-events: none;
}

.heroImg {
    position: absolute;
    inset: -12px;
    width: calc(100% + 24px);
    height: calc(100% + 24px);
    object-fit: cover;
    opacity: 0;
    transform: translateY(-6px);
    transition: opacity 0.6s ease, transform 0.6s ease;
}

.heroImg.active {
    opacity: 1;
    transform: translateY(0);
}

#hero::after {
    content: "";
    position: absolute;
    inset: 0;
    background: linear-gradient(
        to bottom,
        rgba(15,15,18,0),
        rgba(15,15,18,0.55),
        rgba(15,15,18,1)
    );
}

h1 {
    text-align: center;
    margin: 0.75rem 0;
}

/* ===== INPUT INDICATOR ===== */
#inputIndicator {
    position: fixed;
    top: 10px;
    left: 10px;
    width: 32px;
    height: 32px;
    z-index: 100;
}

/* ===== CAROUSEL ===== */
.carousel {
    position: absolute;
    bottom: 30px;
    left: 0;
    width: 100%;
    display: flex;
    align-items: center;
    overflow: hidden;
    height: 400px;
}

.track {
    display: flex;
    gap: 2rem;
    transition: transform 0.4s ease;
    will-change: transform;
}

.arrow {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    font-size: 3rem;
    cursor: pointer;
    user-select: none;
    opacity: 0.6;
    z-index: 10;
}

#prev { left: 0; }
#next { right: 0; }
.arrow:hover { opacity: 1; }

/* ===== GAME CARDS ===== */
.card {
    width: 220px;
    flex-shrink: 0;
    text-align: center;
    cursor: pointer;
    opacity: 0.4;
    transform: scale(0.9);
    transition: transform 0.25s ease, opacity 0.25s ease;
    position: relative;
}

.card.active {
    opacity: 1;
    transform: scale(1);
}

.card:hover:not(.active) {
    transform: scale(0.97);
    opacity: 0.7;
}

.card img {
    width: 100%;
    aspect-ratio: 3 / 4;
    object-fit: cover;
    border-radius: 8px;
    background: #222;
}

/* ===== TITLE SLIDE ===== */
.title {
    position: absolute;
    bottom: 0;
    width: 100%;
    background: rgba(0,0,0,0.7);
    padding: 0.25rem 0;
    font-size: 0.9rem;
    transform: translateY(100%);
    opacity: 0;
    transition: transform 0.35s cubic-bezier(.25,1,.5,1), opacity 0.35s;
    border-radius: 0 0 8px 8px;
}

.card:hover .title,
.card.active .title {
    transform: translateY(0);
    opacity: 1;
}
</style>
</head>

<body>

<!-- HERO -->
<div id="hero">
    <img id="heroA" class="heroImg" alt="Game banner">
    <img id="heroB" class="heroImg" alt="Game banner">
</div>

<h1>ðŸŽ® Web-Ports</h1>

<div id="inputIndicator"></div>

<div class="carousel">
    <div class="arrow" id="prev">&lt;</div>
    <div class="track" id="track"></div>
    <div class="arrow" id="next">&gt;</div>
</div>

<script>
const USER = "AC1DST4R";
const REPO = "Web-Ports";
const BASE_URL = "https://ac1dst4r.github.io/Web-Ports/";

const games = [
  "Amanda the Adventurer","Andy's Apple Farm","Baldi's Basics Plus",
  "Baldi's Basics Remastered","Bendy","Bloodmoney","Buckshot Roulette",
  "Dead Plate","Deltatraveler","Don't Take This Cat Home",
  "Getting Over It","Happy Sheepies","Hotline Miami","Omori",
  "Pizza Tower","Raft","Sonic","That's Not My Neighbor",
  "The Man In The Window","Undertale Yellow","Webfishing"
];

const exts = ["png","jpg","jpeg"];
const bannerExts = ["png","jpg","jpeg"];

const track = document.getElementById("track");
const heroA = document.getElementById("heroA");
const heroB = document.getElementById("heroB");

let heroFront = heroA;
let heroBack = heroB;
let current = 0;

/* ===== LOAD BANNER ===== */
function loadBanner(index) {
    let i = 0;
    function tryNext() {
        if (i >= bannerExts.length) return;
        heroBack.src =
          `https://raw.githubusercontent.com/${USER}/${REPO}/main/Banner%20Art/${index+1}.${bannerExts[i++]}`;
    }
    heroBack.onerror = tryNext;
    heroBack.onload = () => {
        heroBack.classList.add("active");
        heroFront.classList.remove("active");
        [heroFront, heroBack] = [heroBack, heroFront];
    };
    tryNext();
}

/* ===== BUILD CARDS ===== */
games.forEach((name,i)=>{
    const card = document.createElement("div");
    card.className = "card";

    const img = document.createElement("img");
    let e = 0;
    function loadImg(){
        if(e>=exts.length) return;
        img.src =
          `https://raw.githubusercontent.com/${USER}/${REPO}/main/Cover%20Art/${i+1}.${exts[e++]}`;
    }
    img.onerror = loadImg;
    loadImg();

    const title = document.createElement("div");
    title.className = "title";
    title.textContent = name;

    card.append(img,title);
    card.onclick = ()=> {
        location.href = BASE_URL + encodeURIComponent(name) + "/";
    };

    track.appendChild(card);
});

/* ===== UPDATE ===== */
function update(){
    const cards = document.querySelectorAll(".card");
    cards.forEach((c,i)=>c.classList.toggle("active",i===current));

    const w = cards[0].offsetWidth + 32;
    track.style.transform =
      `translateX(${innerWidth/2 - w/2 - current*w}px)`;

    loadBanner(current);
}

/* ===== NAVIGATION ===== */
document.getElementById("prev").onclick=()=>{ if(current>0){current--;update();}};
document.getElementById("next").onclick=()=>{ if(current<games.length-1){current++;update();}};

document.addEventListener("keydown",e=>{
    if(e.key==="ArrowLeft"&&current>0){current--;update();}
    if(e.key==="ArrowRight"&&current<games.length-1){current++;update();}
    if(e.key==="Enter"){
        location.href = BASE_URL + encodeURIComponent(games[current]) + "/";
    }
});

window.onload = update;
window.onresize = update;
</script>

</body>
</html>
